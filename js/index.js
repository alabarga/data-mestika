var barPadding=2,datosJobs=[],margin={top:50,right:50,bottom:50,left:110},widthJobs=1200-margin.left-margin.right,heightJobs=500-margin.top-margin.bottom,element=document.getElementById("data-mestika"),positionInfo=element.getBoundingClientRect(),widthDocument=positionInfo.width,svgJobs=d3.select("#dm-graph-city").append("svg").attr("class","chart-lluvias-recogida").attr("width",widthJobs+margin.left+margin.right).attr("height",heightJobs+margin.top+margin.bottom).append("g").attr("transform","translate("+(margin.left-margin.right)+","+margin.top+")"),layerDates=svgJobs.append("g"),focus=svgJobs.append("g").style("display","none"),bisectDate=d3.bisector(function(t){return t.fecha}).left,x=d3.scaleTime().domain([2008,2017]).range([0,widthJobs]),y=d3.scaleLinear().domain([0,1e3]).range([heightJobs,0]),xAxisJobs=d3.axisBottom(x).tickFormat(d3.format("d")).ticks(13),yAxisJobs=d3.axisLeft(y).tickSize(-widthJobs).tickFormat(d3.format("d")).ticks(5),area=d3.area().x(function(t){return x(t.fecha)}).y0("200px").y1(function(t){return y(t.precipitacion_anual)}).curve(d3.curveCardinal.tension(.6));d3.csv("csv/datos.csv",function(t,n){datosJobs=n;var e=d3.nest().key(function(t){return t.ciudad}).rollup(function(t){return t.length}).entries(n).filter(function(t){return t.value>10});console.log(e);var o=d3.nest().key(function(t){return t.puesto.match(/diseñador/gi)}).rollup(function(t){return{coun:t.length}}).entries(n),r=[{puesto:"diseñador",total:o},{puesto:"programador",total:d3.nest().key(function(t){return t.puesto.match(/programador/gi)}).rollup(function(t){return{coun:t.length}}).entries(n)},{puesto:"desarrolador",total:d3.nest().key(function(t){return t.puesto.match(/desarrollador/gi)}).rollup(function(t){return{coun:t.length}}).entries(n)},{puesto:"front",total:d3.nest().key(function(t){return t.puesto.match(/front/gi)}).rollup(function(t){return{coun:t.length}}).entries(n)},{puesto:"marketing",total:d3.nest().key(function(t){return t.puesto.match(/marketing/gi)}).rollup(function(t){return{coun:t.length}}).entries(n)},{puesto:"ux",total:d3.nest().key(function(t){return t.puesto.match(/ux/gi)}).rollup(function(t){return{coun:t.length}}).entries(n)}];console.log(r),console.log(o),datosJobs.forEach(function(t){})});