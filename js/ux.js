!function(){"use strict";var t,e,a,r,n,o=d3.select(".dm-container-graph").append("svg"),i=o.append("g").classed("axisLayer",!0),c=o.append("g").classed("chartLayer",!0),s=d3.scaleTime(),d=d3.scaleLinear(),l=d3.timeParse("%d-%b-%y");function f(l){var f;f=l,t=document.querySelector(".dm-container-graph").clientWidth,e=document.querySelector(".dm-container-graph").clientHeight,a=t-((n={top:48,left:48,bottom:48,right:48}).left+n.right),r=e-(n.top+n.bottom),o.attr("width",t).attr("height",e),i.attr("width",t).attr("height",e),c.attr("width",a).attr("height",r).attr("transform","translate("+[n.left,n.top]+")"),s.domain(d3.extent(f,function(t){return t.fecha})).range([0,a]),d.domain([0,d3.max(f,function(t){return t.total})]).range([r,0]),function(){var t=d3.axisLeft(d).tickSizeInner(-a).tickFormat(d3.format("d")).ticks(10),e=i.selectAll(".y").data(["dummy"]),o=e.enter().append("g").attr("class","axis y");e.merge(o).attr("transform","translate("+[n.left,n.top]+")").call(t);var c=d3.axisBottom(s),l=i.selectAll(".x").data(["dummy"]),f=l.enter().append("g").attr("class","axis x");l.merge(f).attr("transform","translate("+[n.left,r+n.top]+")").call(c)}(),function(t){var e=d3.line().x(function(t){return s(t.fecha)}).y(function(t){return d(t.total)}),a=c.selectAll(".line").data([t]),r=a.enter().append("path").attr("class","line").attr("stroke-width","1.5");a.merge(r).attr("d",e);var n=r.node().getTotalLength();r.attr("stroke-dasharray",n+" "+n).attr("stroke-dashoffset",n).transition().duration(2500).ease(d3.easeLinear).attr("stroke-dashoffset",0),c.selectAll("dot").data(t).enter().append("circle").attr("cx",function(t){return s(t.fecha)}).attr("cy",function(t){return d(t.total)}).attr("class","circles").attr("r",3)}(l)}d3.csv("csv/data-ofertas-anyo.csv",function(t){return t.fecha=l(t.fecha),t.total=+t.total,t},function(t){f(t),e=t,r=Math.floor(1e3/60*10),window.addEventListener("resize",function(t){!1!==a&&clearTimeout(a),a=setTimeout(function(){f(e)},r)});var e,a,r})}();