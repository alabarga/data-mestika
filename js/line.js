function jobYear(){var t=50,a=50,n=50,e=110,o=1200-e-a,r=500-t-n,s=d3.select(".dm-job-year").append("svg").attr("class","chart-lluvias-recogida").attr("width",o+e+a).attr("height",r+t+n).append("g").attr("transform","translate("+(e-a)+","+t+")"),c=d3.timeParse("%d-%b-%y"),i=d3.scaleTime().range([0,o]),d=d3.scaleLinear().range([r,0]),l=d3.line().curve(d3.curveCatmullRomOpen).x(function(t){return i(t.fecha)}).y(function(t){return d(t.total)}),u=d3.axisLeft(d).tickSize(-o).tickFormat(d3.format("d")).ticks(8);d3.csv("csv/data-ofertas-anyo.csv",function(t,a){if(t)throw t;a.forEach(function(t){t.fecha=c(t.fecha),t.total=+t.total}),i.domain(d3.extent(a,function(t){return t.fecha})),d.domain([0,d3.max(a,function(t){return t.total})]);var n=s.append("path").data([a]).attr("class","line").attr("d",l).attr("stroke-width","2").attr("fill","none"),e=n.node().getTotalLength();console.log(e),n.attr("stroke-dasharray",e+" "+e).attr("stroke-dashoffset",e).transition().duration(1500).ease(d3.easePolyInOut).attr("stroke-dashoffset",0),s.append("g").attr("class","x-axis").attr("transform","translate(0,"+r+")").call(d3.axisBottom(i)),s.append("g").attr("class","y-axis").call(u);var o=[{note:{label:"Primera oferta de UX",wrap:430,align:"middle"},y:320,x:120,dy:-240,dx:0}].map(function(t){return t.note=Object.assign({},t.note),t.subject={radius:6},t});window.makeAnnotations=d3.annotation().annotations(o).type(d3.annotationCalloutCircle).accessors({x:function t(a){return t(a.fecha)},y:function t(a){return t(a.total)}}).accessorsInverse({fecha:function(t){return i.invert(t.x)},total:function(t){return d.invert(t.y)}}).on("subjectover",function(t){t.type.a.selectAll("g.annotation-connector, g.annotation-note").classed("hidden",!1)}).on("subjectout",function(t){t.type.a.selectAll("g.annotation-connector, g.annotation-note").classed("hidden",!0)}),s.append("g").attr("class","annotation-test").call(makeAnnotations),s.selectAll("g.annotation-connector, g.annotation-note").classed("hidden",!0)})}jobYear();